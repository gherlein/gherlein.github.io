<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="
  
      A month ago I told you I changed roles at AWS.  Now I can show you what I&rsquo;ve done since then!
    ">
  <meta name="generator" content="Hugo 0.129.0">

  <meta property="og:title" content="My First Amazon Blog... ML/AI Chatbot over the Phone!" />
  <meta name="twitter:title" content="My First Amazon Blog... ML/AI Chatbot over the Phone!" />

  <meta property="og:url" content="https://blog.herlein.com/post/amazon-blog/" />
  
    <meta name="twitter:card" content="summary">
  

  <meta name="twitter:site" content="Greg Herlein">
  <meta name="twitter:creator" content="Herlein">
  
    <meta name="twitter:description" content="A month ago I told you I changed roles at AWS.  Now I can show you what I&rsquo;ve done since then!" />
  

  
  <link rel="preconnect" href="https://s.ytimg.com">
  <link rel="preconnect" href="https://i.imgur.com">

  <title>My First Amazon Blog... ML/AI Chatbot over the Phone! &middot; Greg Herlein</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/2.0.5/pure-min.css" media="screen">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/2.0.5/grids-responsive-min.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/side-menu.css" media="screen">

  <link rel="stylesheet" href="https://blog.herlein.com/css/blackburn.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/dw-burn.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/dw-menu.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/vars.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/menu-x.css" media="screen">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" type="text/css">

  
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$']],
      displayMath: [['$$','$$']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
    CommonHTML: { linebreaks: { automatic: true } },
    "HTML-CSS": { linebreaks: { automatic: true } },
          SVG: { linebreaks: { automatic: true } }    
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>

 
 

  
  <link async rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css" media="screen">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  
  <script>hljs.highlightAll();</script>
  

  <link rel="shortcut icon" href="https://blog.herlein.com/img/favicon.ico" type="image/x-icon" />

  
  
  

  
  
</head>


<body>
  <div id="layout">
    
<a href="#menu" class="menu-link" id="menuLink" aria-label="Go to menu of this website">
  <s class="bar"></s><s class="bar"></s>
</a>
<div id="menu">

  

  <a class="pure-menu-heading brand" href="https://blog.herlein.com/">Herlein</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/"><i class='fa fa-home fa-fw'></i><span>Home</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/post/"><i class='fa fa-list fa-fw'></i><span>Posts</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/about/"><i class='fa fa-user fa-fw'></i><span>About Me</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/projects/"><i class='fa fa-user fa-fw'></i><span>Projects</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/resume/"><i class='fa fa-user fa-fw'></i><span>Resume</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/staffing/"><i class='fa fa-user fa-fw'></i><span>Staffing</span></a>
        </li>
      
    </ul>
  </div>

  
<div class="pure-menu social">
    <ul class="pure-menu-list">

      
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://linkedin.com/in/gherlein" rel="me external noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i><span>LinkedIn</span></a>
      </li>
      
  
      
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://github.com/gherlein" rel="me external noopener" target="_blank"><i class="fab fa-github-square fa-fw"></i><span>GitHub</span></a>
      </li>
      

      

      

    </ul>
  </div>


  <div class="copyright-small">
  Built with <a href="https://gohugo.io/" rel="external noopener" target="_blank">Hugo</a>
</div>
<div class="copyright-small">
  W/ <a href="https://github.com/dwy6626/dw-favored-blackburn" rel="external noopener" target="_blank">DW-Favored-Blackburn</a>
</div>
<div class="copyright-small">
  Based on <a href="https://github.com/yoshiharuyamashita/blackburn" rel="external noopener" target="_blank">Blackburn</a>
</div>
<div class="copyright-small">
  and <a href="https://purecss.io/" rel="external noopener" target="_blank">Pure CSS</a>
</div>
<div class="copyright-small">
  Icons <a href="https://fontawesome.com" rel="external noopener" target="_blank">Font Awesome</a>
</div>

<div class="copyright-small">
  <a href="https://blog.herlein.com/">
    &copy; 2018-2025. All rights reserved.
  </a>
</div>

</div>


    <div id="main">
      <div class="header">
        
          <h1>
            
              My First Amazon Blog... ML/AI Chatbot over the Phone!
            
          </h1>
          <h2>
            
          </h2>
        
      </div>
      <div class="aside-container">
        
  <div id="toc-aside" style="display: none;">
    
      <link rel="stylesheet" href="https://blog.herlein.com/css/aside-toc.css" media="screen">
<script src="https://blog.herlein.com/js/toc.js"></script>
<div class="toc">
  <aside>
    <summary>Table of Contents</summary>
    <div class="toc-item">
      <p><a rel='tag' href="#">My First Amazon Blog... ML/AI Chatbot over the Phone!</a></p>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#but-wait-theres-more">But Wait, There&rsquo;s More</a></li>
    <li><a href="#this-is-in-its-infancy---its-still-a-work-in-progress">This is in it&rsquo;s Infancy - It&rsquo;s Still a Work-in-Progress</a></li>
    <li><a href="#yes--terribly-low-level-though--what-can-i-build-today">Yes.  Terribly Low-Level Though.  What Can I Build TODAY?</a></li>
    <li><a href="#if-you-are-even-more-impatient--call-it-now">If You Are Even More Impatient:  Call it NOW</a></li>
    <li><a href="#yes-but-how-would-i-really-do-this">Yes, But How Would I Really Do This?</a></li>
    <li><a href="#easter-egg-bug-reward">Easter Egg Bug Reward</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
  </aside>
</div>

    
  </div>

      </div>
      <div class="content">
        
  <ul class="post-meta">
  <li>
    <i class="fa fa-calendar fa-fw"></i>
    <span>
      <time>05 Dec 2021, 00:00</time>
    </span>
  </li>
</ul>




<ul class="post-meta">
  

  
    
      <a href='https://blog.herlein.com/tags/telephony'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>Telephony</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/aws'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>AWS</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/ml/ai'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>ML/AI</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/amazon-lex'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>Amazon Lex</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/amazon-polly'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>Amazon Polly</span>
        </li>
      </a>
    
  
</ul>


  <div id="toc-top" style="display: none;">
    
      <div class="toc">
        <aside>
          <details>
            <summary>Table of Contents</summary>
            <div class="toc-item">
              <nav id="TableOfContents">
  <ul>
    <li><a href="#but-wait-theres-more">But Wait, There&rsquo;s More</a></li>
    <li><a href="#this-is-in-its-infancy---its-still-a-work-in-progress">This is in it&rsquo;s Infancy - It&rsquo;s Still a Work-in-Progress</a></li>
    <li><a href="#yes--terribly-low-level-though--what-can-i-build-today">Yes.  Terribly Low-Level Though.  What Can I Build TODAY?</a></li>
    <li><a href="#if-you-are-even-more-impatient--call-it-now">If You Are Even More Impatient:  Call it NOW</a></li>
    <li><a href="#yes-but-how-would-i-really-do-this">Yes, But How Would I Really Do This?</a></li>
    <li><a href="#easter-egg-bug-reward">Easter Egg Bug Reward</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
            </div>
          </details>
        </aside>
      </div>
    
  </div>
  <p>A month ago I told you I <a href="https://blog.herlein.com/post/webrtc-phone/">changed roles</a> at AWS.  Now I can show you what I&rsquo;ve done since then!</p>
<p>I started a new role at AWS on November 1.  I joined the <a href="https://aws.amazon.com/chime/chime-sdk/">Amazon Chime SDK</a> team to form their Developer Advocacy/Technical Evangalism function.  My job will be to help folks learn how to best use this amazing AWS service to revolutionize their communications.  But what, exactly?  Glad you asked.</p>
<p>My <a href="https://aws.amazon.com/blogs/business-productivity/building-a-pstn-call-answering-system-with-the-amazon-chime-sdk-amazon-lex-and-amazon-polly/">first official AWS blog posted last Monday</a>, in sync with re:Invent.  Yes, I was there - more on that later.<br>
I am really proud of this blog, and even more proud of the <a href="https://github.com/aws-samples/amazon-chime-sdk-lex-pstn-demo">code we open sourced that goes with it.</a>.</p>
<p>What is it?  Machine Learning, baby!  Well, kinda.  The result of machine learning.  <a href="https://aws.amazon.com/lex/">Amazon Lex</a> lets you build chatbots with conversational AI.  My code lets you do that conversation over the phone!  Think about that for a moment.  You can sit down today and play with a demo that talks to you over the phone.  How cool is that?</p>
<p>The rest of this is not about ML/AI Chatbots.  Go check out my <a href="https://aws.amazon.com/blogs/business-productivity/building-a-pstn-call-answering-system-with-the-amazon-chime-sdk-amazon-lex-and-amazon-polly/">blog post</a> for that!  Please!  And tell your friends! Share it around on social media!</p>
<p>The rest of this here today is about cloud telephony.  It&rsquo;s the foundation that I bolted Lex/Polly on top of.  And it&rsquo;s going to change the game.</p>
<h2 id="but-wait-theres-more">But Wait, There&rsquo;s More</h2>
<p>If you know me at all then you know I&rsquo;m all about automation.  &ldquo;Start with Deployment Automation and the software design falls out.&rdquo;  Apparently I said that years ago and someone repeated it back to me recently.  That is indeed my philosophy.  So it won&rsquo;t surprise
you that&rsquo;s where I started with the Chime SDK.  I&rsquo;d been wanting to really dig into the <a href="https://aws.amazon.com/cdk/">AWS Cloud Development Kit (CDK)</a> anyway and so I did.  But that&rsquo;s where I ran into my first block.</p>
<p>The Amazon Chime SDK is new enough that native Cloud Formation support is not done yet.  So I did what any self-respecting geek with an automation bent would do:  I created a <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cfn-customresource.html">CloudFormation Custom Resource Provider</a> - called a Custom Resource Provider (CRP) - for the resources needed for the demo.  In native typescript.  And open sourced it.  You can find it <a href="https://github.com/aws-samples/amazon-chime-sdk-pstn-provider">here</a>.</p>
<img src="https://blog.herlein.com/images/baby.jpeg" width="60%"/>
<h2 id="this-is-in-its-infancy---its-still-a-work-in-progress">This is in it&rsquo;s Infancy - It&rsquo;s Still a Work-in-Progress</h2>
<p>It&rsquo;s early days.  The tool only creates one phone number, one SIP rule, and one SIP Media Appliance (SMA) today.  It&rsquo;s perfect for a demo.  It lets you create the resources you need and more importantly when you are done it lets you delete them with a simple &ldquo;cdk destroy&rdquo; command.  This is the power of the cloud folks:  ephemeral resources.</p>
<p>Hold right there and think about that again.  Use this code and you create a phone number.  A real number you can dial with your phone and interact with.  And when you are done you type a command it all vanishes.  And you paid for only what you used, while you used it.
That&rsquo;s the essence of what I call &ldquo;Cloud 1.0&rdquo; thinking.  <a href="https://blog.herlein.com/post/cloud-basics/">Disposability</a> is key to even starting to get the benefits of the Cloud.  And we&rsquo;ve now brought this to telephony!</p>
<img src="https://blog.herlein.com/images/cloud-images/disposal-automation.png" width="60%"/>
<p>For real production systems you don&rsquo;t want your phone number to vanish back into a pool.  You want to keep it.  The provider code will have to evolve to support <a href="https://docs.aws.amazon.com/cdk/api/latest/docs/@aws-cdk_aws-cloudformation.NestedStack.html">nested stacks</a> or more.  Folks will need the ability to create and update a whole telephony stack and just &ldquo;release&rdquo; the phone numbers from connection to code and keep them allocated.  This logic will all need to be added to the CRP code.</p>
<p>And that is where you can come in.  This code is open source, licensed under the business-friendly MIT-0 license.</p>
<p><strong>Pull Requests welcome!  Come play!</strong></p>
<h2 id="yes--terribly-low-level-though--what-can-i-build-today">Yes.  Terribly Low-Level Though.  What Can I Build TODAY?</h2>
<p>If you know me at all, you also know that&rsquo;s what I knew you would ask.  Building a cool demo that talks to you and building a cool CRP to help you automate deployment were necessary, but not sufficient.  Not for me, and it should not be for you either.  So I built a template starting point that uses the CRP and does the most basic telephony thing possible:  answer the phone and tell you the time.  Old farts like me will remember that this was always the phone number &ldquo;555-1212.&rdquo;  My example goes a little farther and reads your
caller-id and knows if you have called before.  It stores your number in DynamoDB.  If you are a new caller, it speaks your number back to you.</p>
<p>This is all open sourced.  You can clone the repos, set up your AWS account and try it all yourself.  And better yet, you can start from there and derive like crazy to make your OWN telephony application.  And if you do, drop me a note so I can help you share it around!</p>
<h2 id="if-you-are-even-more-impatient--call-it-now">If You Are Even More Impatient:  Call it NOW</h2>
<p>That&rsquo;s right!  Call the US number:</p>
<p>+1-505-273-6307</p>
<p>Right now.  DISCLAIMER:  it&rsquo;s up to you to understand if that will cost you money.  Many plans in the US have no charge for long-distance calls, but if this costs you money it&rsquo;s on you.  The number was allocated from New Mexico USA, so it may well be long-distance for you.  Please be wise.</p>
<img src="https://blog.herlein.com/images/impatient.jpg" width="60%"/>
<p>Seriously.  Don&rsquo;t wait.  Call it up.  I&rsquo;ll leave that deployed until folks stop calling it.  Maybe I&rsquo;ll leave it up forever.  After all it&rsquo;s cloud cheap!  The <a href="https://aws.amazon.com/chime/chime-sdk/pricing/">pricing</a> is currently $1/month for the phone number and $0.002 per minute for the call, plus a tiny cost for the lambda function and DynamoDB consumption.  You could build a pretty powerful application for tens of dollars a year.  Cloud economics at work!</p>
<h2 id="yes-but-how-would-i-really-do-this">Yes, But How Would I Really Do This?</h2>
<p>It&rsquo;s simple.  Just replicate the <a href="https://github.com/aws-samples/amazon-chime-sdk-pstn-cdk">template repo</a> into your AWS account.  You can see the new Github repo <a href="https://github.com/gherlein/simpleTest">here</a>.  Clone the CRP as described in the README.  Make sure you have a dependencies intalled like the README describes and then go into the template folder and typled &ldquo;make deploy.&rdquo;  Here is the sum total of what I did after I clicked &ldquo;Use this Template&rdquo; in github into my own &ldquo;simpleTest&rdquo; repo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git clone git@github.com:aws-samples/amazon-chime-sdk-pstn-provider.git
</span></span><span style="display:flex;"><span>git clone git@github.com:gherlein/simpleTest.git
</span></span><span style="display:flex;"><span>cd simpleTest
</span></span><span style="display:flex;"><span>make deploy
</span></span></code></pre></div><p>It took a few minutes to deploy and I called the phone number it spit out in the output.  It&rsquo;s that easy to deploy.  <strong>How&rsquo;s that for deployment automation?</strong></p>
<h2 id="easter-egg-bug-reward">Easter Egg Bug Reward</h2>
<p>I left something &ldquo;wrong&rdquo; in the implementation.  Something simple, but obvious.</p>
<img src="https://blog.herlein.com/images/easter-egg-bug.png" width="60%"/>
<p>You can tell just by calling the number.  Here&rsquo;s my challenge:  figure it out, and send me a Pull Request to fix it.  There&rsquo;s a reward involved, and not just the fame of contributing to such a ground breaking new technology!  Don&rsquo;t hold your breath though.  I&rsquo;m not rich.  But you will like the reward!  And it will be fun!</p>
<h2 id="conclusion">Conclusion</h2>
<p>We are at the begining of a new age of communication.  The phone system is still a core bedrock for most folks, but the Internet is a river of change.  The Amazon Chime SDK melds those two worlds - in a very cloudy way.  Ask yourself:  what kind of things can you build with this?  What simple customer interactions could you automate?  I personally think there&rsquo;s a huge cottage industry for custom software that helps small businesses automate how they interact with customers.  If you are a builder, you might want to get it on this.  It feels a lot like the early days of Linux.</p>
<p>Disclaimer:  as usual, all opinions here are my own and not my employer.</p>
<p><a title="Google Analytics Alternative" href="https://clicky.com/101366448"><img alt="Clicky" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a></p>
<script async src="//static.getclicky.com/101366448.js"></script>
<p><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101366448ns.gif" /></p></noscript></p>

  


  <div class="copyright">
    This article is licensed under
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>
    .
  </div>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://blog.herlein.com/post/local-data-collection/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://blog.herlein.com/post/local-data-collection/">Local Data Collection and Command Distribution</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://blog.herlein.com/post/thirty-years/">Thirty Years Ago Today</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://blog.herlein.com/post/thirty-years/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>


  
  
  
  


      </div>
    </div>
  </div>

  <script src="https://blog.herlein.com/js/ui.js"></script>
<script src="https://blog.herlein.com/js/menus.js"></script>









  </body>
</html>
