<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="
  
      One of the core principles of modern &ldquo;DevOps&rdquo; development is to treat your documentation as code, just like code.  My team at Cisco open sourced how we do that.
    ">
  <meta name="generator" content="Hugo 0.129.0">

  <meta property="og:title" content="Docs as Code" />
  <meta name="twitter:title" content="Docs as Code" />

  <meta property="og:url" content="https://blog.herlein.com/post/docs-as-code/" />
  
    <meta name="twitter:card" content="summary">
  

  <meta name="twitter:site" content="Greg Herlein">
  <meta name="twitter:creator" content="Herlein">
  
    <meta name="twitter:description" content="One of the core principles of modern &ldquo;DevOps&rdquo; development is to treat your documentation as code, just like code.  My team at Cisco open sourced how we do that." />
  

  
  <link rel="preconnect" href="https://s.ytimg.com">
  <link rel="preconnect" href="https://i.imgur.com">

  <title>Docs as Code &middot; Greg Herlein</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/2.0.5/pure-min.css" media="screen">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/2.0.5/grids-responsive-min.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/side-menu.css" media="screen">

  <link rel="stylesheet" href="https://blog.herlein.com/css/blackburn.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/dw-burn.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/dw-menu.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/vars.css" media="screen">
  <link rel="stylesheet" href="https://blog.herlein.com/css/menu-x.css" media="screen">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet" type="text/css">

  
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML">
  </script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$']],
      displayMath: [['$$','$$']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
    CommonHTML: { linebreaks: { automatic: true } },
    "HTML-CSS": { linebreaks: { automatic: true } },
          SVG: { linebreaks: { automatic: true } }    
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>

 
 

  
  <link async rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/androidstudio.min.css" media="screen">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
  
  <script>hljs.highlightAll();</script>
  

  <link rel="shortcut icon" href="https://blog.herlein.com/img/favicon.ico" type="image/x-icon" />

  
  
  

  
  
</head>


<body>
  <div id="layout">
    
<a href="#menu" class="menu-link" id="menuLink" aria-label="Go to menu of this website">
  <s class="bar"></s><s class="bar"></s>
</a>
<div id="menu">

  

  <a class="pure-menu-heading brand" href="https://blog.herlein.com/">Herlein</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/"><i class='fa fa-home fa-fw'></i><span>Home</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/post/"><i class='fa fa-list fa-fw'></i><span>Posts</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/about/"><i class='fa fa-user fa-fw'></i><span>About Me</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/projects/"><i class='fa fa-user fa-fw'></i><span>Projects</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/resume/"><i class='fa fa-user fa-fw'></i><span>Resume</span></a>
        </li>
      
        <li class="pure-menu-item">
            <a class="pure-menu-link" href="https://blog.herlein.com/staffing/"><i class='fa fa-user fa-fw'></i><span>Staffing</span></a>
        </li>
      
    </ul>
  </div>

  
<div class="pure-menu social">
    <ul class="pure-menu-list">

      
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://linkedin.com/in/gherlein" rel="me external noopener" target="_blank"><i class="fab fa-linkedin fa-fw"></i><span>LinkedIn</span></a>
      </li>
      
  
      
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="https://github.com/gherlein" rel="me external noopener" target="_blank"><i class="fab fa-github-square fa-fw"></i><span>GitHub</span></a>
      </li>
      

      

      

    </ul>
  </div>


  <div class="copyright-small">
  Built with <a href="https://gohugo.io/" rel="external noopener" target="_blank">Hugo</a>
</div>
<div class="copyright-small">
  W/ <a href="https://github.com/dwy6626/dw-favored-blackburn" rel="external noopener" target="_blank">DW-Favored-Blackburn</a>
</div>
<div class="copyright-small">
  Based on <a href="https://github.com/yoshiharuyamashita/blackburn" rel="external noopener" target="_blank">Blackburn</a>
</div>
<div class="copyright-small">
  and <a href="https://purecss.io/" rel="external noopener" target="_blank">Pure CSS</a>
</div>
<div class="copyright-small">
  Icons <a href="https://fontawesome.com" rel="external noopener" target="_blank">Font Awesome</a>
</div>

<div class="copyright-small">
  <a href="https://blog.herlein.com/">
    &copy; 2018-2024. All rights reserved.
  </a>
</div>

</div>


    <div id="main">
      <div class="header">
        
          <h1>
            
              Docs as Code
            
          </h1>
          <h2>
            
          </h2>
        
      </div>
      <div class="aside-container">
        
  <div id="toc-aside" style="display: none;">
    
  </div>

      </div>
      <div class="content">
        
  <ul class="post-meta">
  <li>
    <i class="fa fa-calendar fa-fw"></i>
    <span>
      <time>20 Jun 2020, 03:10</time>
    </span>
  </li>
</ul>




<ul class="post-meta">
  

  
    
      <a href='https://blog.herlein.com/tags/technical'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>technical</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/linux'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>linux</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/docs'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>docs</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/code'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>code</span>
        </li>
      </a>
    
      <a href='https://blog.herlein.com/tags/git'>
        <li>
          <i class="fas fa-tag fa-fw"></i>
          <span>git</span>
        </li>
      </a>
    
  
</ul>


  <div id="toc-top" style="display: none;">
    
  </div>
  <p>One of the core principles of modern &ldquo;DevOps&rdquo; development is to treat your documentation as code, just like code.  My team at Cisco open sourced how we do that.</p>
<h2 id="why-docs-as-code">Why Docs as Code</h2>
<p>The ultimate documentation for any software project is the code itself.  But for sets of code - especially today&rsquo;s interconnected micro-services - having some kind of documentation is essential to being able to onboard new developers. More importantly, documentation is important for Operations.  Not only is the system design needed, the details of how to deploy and operate complex software needs to be written down.  Larger teams sometimes even have professional technical writers.</p>
<p>The best people to write the docs are the people who wrote the code. If you want writers to clean it up that&rsquo;s fine. But the Engineers who built it know it best. So if for no other reason you should use tooling that the Engineers already use. But more on tooling later. The Engineers need to write code, and to make sure it&rsquo;s accurate you should follow the same process as for code:  do a code review on the documentation. And how do we do that?  In git, of course. Github, to be specific.</p>
<p>We recommend (and mandate it in our teams) that the docs are reviewed by at least one additional qualified Engineer before it&rsquo;s merged to master. This workflow is exactly what we do for code so it&rsquo;s really easy to train on and roll out.</p>
<h2 id="why-not-word-or-whatever">Why Not Word (or whatever)</h2>
<p>Any word processor is going to be orthogonal to the workflow the Engineers are going to want to use.  They are in a text editor all day, every day. If they are not you have different problems. They are in an editor and in github.  Why break out of that to use a tool they don&rsquo;t normally use?</p>
<p>In addition, word processors like Microsoft Word save in formats that are not friendly to git. If you want to read a pull request (PR) you don&rsquo;t want a bunch of binary stuff in there: you want to see the change, and nothing but the change.</p>
<h3 id="text">Text</h3>
<p>We settled on using <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown</a> as our core text format. It&rsquo;s easy to learn, easy to read, fully text based, git friendly, and most projects are already writing a README in it anyway. Why mess with a good thing?</p>
<h3 id="diagrams">Diagrams</h3>
<p>We&rsquo;ve had good luck with using either <a href="https://plantuml.com/">PlatUML</a> and <a href="https://www.graphviz.org/doc/info/shapes.html">Graphviz</a>. So far, for the kinds of diagrams we need to build those have done the trick. Whether we are building block diagrams, sequence diagrams, or entity-relationship diagrams, these tools do the trick. And they are still pure text, and git friendly.</p>
<h2 id="our-tooling---compiling-to-output">Our Tooling - Compiling to Output</h2>
<p>Since we are on a theme of doing docs as code, how do we &ldquo;compile&rdquo; the docs into desired output formats? Typical formats for consumption include HTML, PDF, and EPUB electronic book. This is where <a href="https://pandoc.org/">pandoc</a> comes to the rescue. But installing the right tools and remembering how to use them was always difficult - especially to have the templates put together for formating.</p>
<p>We put all this together driven by makefile and the tools all dockerized. We creatively call this &ldquo;<a href="https://github.com/cisco-cx/docs-as-code">Docs as Code&rdquo;</a> and Cisco approved releasing it open source.</p>
<h2 id="usage">Usage</h2>
<p>The <a href="https://github.com/cisco-cx/docs-as-code">repo</a> is a &ldquo;template&rdquo; repository. All you have to do is click the green &ldquo;Use this template&rdquo; button and instead of forking you can make a totally new repository using it as a template. You can then just work in that new repo.</p>
<p>There&rsquo;s an example-template folder with a good working example.  The overall template is in common/pandoc/templates but the default is pretty usable. You will want to make your own logo and drop it into common/images instead of the very ugly generic logo that we put there as a placeholder.</p>
<h3 id="change-the-title-in-the-makefile">Change the title in the Makefile</h3>
<p>To change the title of the output document, change the OUT_NAME in the Makefile:</p>
<pre tabindex="0"><code>OUT_NAME := example-template
DIR_NAME := $(PWD)

include ../common/Makefile
</code></pre><h3 id="setting-the-document-attributes">Setting the Document Attributes</h3>
<p>To change the title, subtitle, and to control the various document attributes you can edit the &ldquo;pp&rdquo; directives in the main.md file:</p>
<pre tabindex="0"><code>---
title: The Title
subtitle: 0.1.0 - Confidentiality Statement Goes Here
author: [&#34;First Author1&#34;, &#34;Second Author2&#34;]
titlepage: true
toc-title: Table of Contents
logo: ../common/images/logo.pdf
listings-disable-line-numbers: true
footer-left: &#39;Confidentiality Statement Goes Here&#39;
!bash
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
echo &#34;date: Build Date $(date --iso-8601=date)&#34;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
---
</code></pre><h2 id="credits">Credits</h2>
<p>The following folks did the heavy lifting on this effort:</p>
<p><a href="https://github.com/josdotso">Josh Dotson</a><br>
<a href="https://github.com/dcwangmit01">David Wang</a><br>
<a href="https://github.com/hangxie">Hang Xie</a></p>
<p><a title="Google Analytics Alternative" href="https://clicky.com/101366448"><img alt="Clicky" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a></p>
<script async src="//static.getclicky.com/101366448.js"></script>
<p><noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/101366448ns.gif" /></p></noscript></p>

  


  <div class="copyright">
    This article is licensed under
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>
    .
  </div>

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://blog.herlein.com/post/terraform/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://blog.herlein.com/post/terraform/">Terraform in AWS:  use AMI Names not IDs - and is Terraform the right answer still?</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://blog.herlein.com/post/lti/">Blast from the past - Linux Telephony API</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://blog.herlein.com/post/lti/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>


  
  
  
  


      </div>
    </div>
  </div>

  <script src="https://blog.herlein.com/js/ui.js"></script>
<script src="https://blog.herlein.com/js/menus.js"></script>









  </body>
</html>
